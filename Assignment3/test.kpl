PROGRAM TestProgram;

CONST
  MAX = 100;
  MIN = 0;
  PI = 3;

TYPE
  MyArray = ARRAY (.10.) OF INTEGER;

VAR
  x : INTEGER;
  y : INTEGER;
  z : INTEGER;
  counter : INTEGER;
  arr : MyArray;
  ch : CHAR;

PROCEDURE PrintValue(n : INTEGER);
BEGIN
  CALL WriteInt(n)
END;

FUNCTION Add(a : INTEGER; b : INTEGER) : INTEGER;
VAR
  result : INTEGER;
BEGIN
  result := a + b
END;

BEGIN
  (* Test simple assignment *)
  x := 10;
  y := 20;
  z := x + y;

  (* Test multiple variable assignment *)
  x, y, z := 1, 2, 3;

  (* Test array assignment *)
  arr(.0.) := 100;
  arr(.1.), arr(.2.) := 200, 300;

  (* Test IF-THEN-ELSE *)
  IF x < y THEN
    z := x
  ELSE
    z := y;

  (* Test WHILE loop *)
  counter := 0;
  WHILE counter < 10 DO
    counter := counter + 1;

  (* Test FOR loop *)
  FOR counter := 1 TO 10 DO
    CALL PrintValue(counter);

  (* Test REPEAT-UNTIL loop *)
  counter := 1;
  REPEAT
    counter := counter + 1;
    x := x + counter
  UNTIL counter > 5;

  (* Test nested statements *)
  IF x > 0 THEN
    BEGIN
      y := x * 2;
      z := y + 1;
      REPEAT
        z := z - 1
      UNTIL z = 0
    END;

  (* Test expressions *)
  x := (10 + 20) * (30 - 5);
  y := -x + 100;
  z := x / 2 - y * 3;

  (* Test procedure call *)
  CALL PrintValue(x);

  (* Test function call in expression *)
  z := Add(x, y) + 10

END.
